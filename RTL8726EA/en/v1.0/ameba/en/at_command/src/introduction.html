<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Introduction &mdash; RTL8726EA Docs  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/tabs.css?v=a5c4661c" />

  
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../_static/toggleprompt.js?v=d7ede5d2"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Common AT Commands" href="common_at_command.html" />
    <link rel="prev" title="AT Command" href="index.html" />  
     
  <script type="text/javascript" src="../../../../_static/js/selector.js"></script>
<style>
      .wy-nav-content {
      max-width: 1000px; /* 设置最大宽度 */
      }
</style>



</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            RTL8726EA Docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../ameba_soc_family/index.html">Ameba SoC Family</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../product_overview/src/index.html">Product Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../application_note/index.html">Application Note</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">AT Command</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hardware-connection">Hardware Connection</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#loguart-mode">LOGUART Mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mcu-control-mode">MCU Control Mode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#command-description">Command Description</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-format">Command Format</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-response">Command Response</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-parameter">Command Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#escapes-character">Escapes Character</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-length">Command Length</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#at-command-list">AT Command List</a></li>
<li class="toctree-l3"><a class="reference internal" href="#at-command-version">AT Command Version</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-image">Building image</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#preparation">Preparation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building">Building</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#downloading-image">Downloading Image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="common_at_command.html">Common AT Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="wifi_at_command.html">Wi-Fi AT Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="mqtt_at_command.html">MQTT AT Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="tcp_ip_at_command.html">TCP/IP AT Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="bluetooth_at_command.html">Bluetooth AT Commands</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../software_tools/index.html">Software Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mp_tools/src/index.html">MP Tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">RTL8726EA Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">AT Command</a></li>
      <li class="breadcrumb-item active">Introduction</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="introduction">
<span id="at-command"></span><h1>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h1>
<p>This article describes the role, usage and version information of AT commands.
There are two currently used AT command modes and scenarios, which can be called LOGUART mode and MCU control mode.</p>
<ul>
<li><p>Scenario 1: LOGUART Mode</p>
<p>In this mode, users can evaluate the module’s functionality and conduct various tests or demos, such as Wi-Fi or Bluetooth testing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>AT command information will be intermingled with driver logs as both of them will be output from LOGUART.</p>
</div>
</li>
<li><p>Scenario 2: MCU Control Mode</p>
<p>This scenario includes connecting the AT command module via UART/SPI/SDIO for rapid product development by the customer.
In this mode, AT command information is transmitted and displayed exclusively through UART/SPI/SDIO.</p>
</li>
</ul>
<table class="docutils align-default" id="id1" style="width: 100%">
<caption><span class="caption-text">AT command modes and scenarios</span><a class="headerlink" href="#id1" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Mode</p></th>
<th class="head"><p>Connecting method</p></th>
<th class="head"><p>Status</p></th>
<th class="head"><p>Scenario</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LOGUART Mode</p></td>
<td><p>LOGUART</p></td>
<td><p>Ready</p></td>
<td><p>Evaluate/Test/Demo</p></td>
</tr>
<tr class="row-odd"><td rowspan="3"><p>MCU Control Mode</p></td>
<td><p>UART</p></td>
<td><p>Ready</p></td>
<td rowspan="3"><p>Product development</p></td>
</tr>
<tr class="row-even"><td><p>SPI</p></td>
<td><p>Developing</p></td>
</tr>
<tr class="row-odd"><td><p>SDIO</p></td>
<td><p>Developing</p></td>
</tr>
</tbody>
</table>
<p>We set the Ameba module as a slave, and the MCU as a host. The host can send AT commands to the slave and receive the corresponding AT response.
Users can use AmebaLite, AmebaSmart, and AmebaDPlus as slaves for AT commands.
The AT commands consist of a wide range of types, such as Wi-Fi commands, MQTT commands, TCP/IP commands, and Bluetooth commands.</p>
<section id="hardware-connection">
<h2>Hardware Connection<a class="headerlink" href="#hardware-connection" title="Link to this heading"></a></h2>
<p>Some hardwares are inquired at first.</p>
<section id="loguart-mode">
<h3>LOGUART Mode<a class="headerlink" href="#loguart-mode" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Ameba board: As a slave module.</p></li>
<li><p>PC (or other host device): Input AT commands, observe the response of AT commands.</p></li>
<li><p>LOGUART: Connect the module to PC (or other host device), download image, transmit driver and AT command log.</p></li>
</ul>
<p>In case of LOGUART mode, the input and response of AT commands are shown in the same port.</p>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../../../../_images/loguart_mode.svg"><img alt="../../../../_images/loguart_mode.svg" height="102" src="../../../../_images/loguart_mode.svg" width="574" /></a>
<figcaption>
<p><span class="caption-text">LOGUART mode</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="mcu-control-mode">
<h3>MCU Control Mode<a class="headerlink" href="#mcu-control-mode" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Ameba board: As a slave module.</p></li>
<li><p>Raspberry Pi (or other MCU host device): Input AT commands, observe the response of AT commands.</p></li>
<li><p>LOGUART: Connect module to Raspberry Pi (or other MCU host device), download image, show driver log.</p></li>
<li><p>SPI/UART/SDIO: Connect module to Raspberry Pi (or other MCU host device), transmit AT command, show AT command response.</p></li>
</ul>
<p>In case of MCU control mode, the input and response of AT commands can be separated from the driver log, making it easier for users to view the execution results of AT commands more intuitively.</p>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../../../../_images/mcu_control_mode.svg"><img alt="../../../../_images/mcu_control_mode.svg" height="168" src="../../../../_images/mcu_control_mode.svg" width="607" /></a>
<figcaption>
<p><span class="caption-text">MCU Control mode</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In MCU Control mode, users should prepare the <code class="file docutils literal notranslate"><span class="pre">atcmd_config.json</span></code> file in advance, convert it into a bin file (refer to <a class="reference internal" href="../../../../application_note/file_system/src/file_system.html#amebalite-virtual-file-system"><span class="std std-ref">Virtual File System</span></a> for detailed instructions), and download it to the module’s corresponding Flash partition along with the image.
If no VFS AT command configuration file is provided, the default configuration of UART will be used.</p>
<p>For different chips, the default UART input and output ports are listed in the following table.</p>
<table class="docutils align-default" id="id4" style="width: 100%">
<caption><span class="caption-text">Default UART port and baud rates for chips</span><a class="headerlink" href="#id4" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Chip name</p></th>
<th class="head"><p>UART Tx</p></th>
<th class="head"><p>UART Rx</p></th>
<th class="head"><p>Default baud rate</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AmebaSmart</p></td>
<td><p>PA_3</p></td>
<td><p>PA_2</p></td>
<td><p>38400</p></td>
</tr>
<tr class="row-odd"><td><p>AmebaLite</p></td>
<td><p>PA_28</p></td>
<td><p>PA_29</p></td>
<td><p>38400</p></td>
</tr>
<tr class="row-even"><td><p>AmebaDPlus</p></td>
<td><p>PA_26</p></td>
<td><p>PA_27</p></td>
<td><p>38400</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="command-description">
<h2>Command Description<a class="headerlink" href="#command-description" title="Link to this heading"></a></h2>
<section id="command-format">
<h3>Command Format<a class="headerlink" href="#command-format" title="Link to this heading"></a></h3>
<p>The current format of the supported AT command set starts with two capital letters <code class="docutils literal notranslate"><span class="pre">AT</span></code> (abbreviation of attention), called the start characters, followed by a <code class="docutils literal notranslate"><span class="pre">+</span></code>, then by the command name.
If there are several parameters more, it will be followed by an <code class="docutils literal notranslate"><span class="pre">=</span></code>, then by a parameter list.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">COMMAND</span><span class="o">=</span><span class="n">parameter1</span><span class="p">,</span><span class="n">parameter2</span>
</pre></div>
</div>
<p>In this example, the first two letters <code class="docutils literal notranslate"><span class="pre">AT</span></code> are the start characters, indicating that the current string can be recognized as AT command, and <code class="docutils literal notranslate"><span class="pre">+</span></code> is used to separate the start characters and subsequent commands.
<code class="docutils literal notranslate"><span class="pre">COMMAND</span></code> is the specific command name, to be executed right now. This command requires two parameters: <cite>parameter1</cite> and <cite>parameter2</cite>.</p>
</div>
<p>Sometimes, several parameters in AT command may be ignored, in this case, one or more comma(s) should be input inside parameters.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">COMMAND</span><span class="o">=</span><span class="n">parameter1</span><span class="p">,</span> <span class="p">,</span><span class="n">parameter3</span>
</pre></div>
</div>
<p>In this command, there is an invisible <cite>parameter2</cite> between two commas, and it is considered to use the default value.</p>
</div>
</section>
<section id="command-response">
<h3>Command Response<a class="headerlink" href="#command-response" title="Link to this heading"></a></h3>
<p>After receiving the AT command, the slave judges whether it is a valid command at first.
If it is considered as an invalid command (not in the AT command set), <code class="docutils literal notranslate"><span class="pre">unkown</span> <span class="pre">command</span> <span class="pre">COMMAND</span></code> will be performed.
Otherwise, it will be executed based on the input command and its parameters.</p>
<ul class="simple">
<li><p>When the command is successfully executed, the command name plus an <code class="docutils literal notranslate"><span class="pre">OK</span></code> mark will generally be returned.</p></li>
<li><p>When the command execution fails, the command name plus an <code class="docutils literal notranslate"><span class="pre">ERROR</span></code> mark will generally be returned, followed by an error code.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Every AT command has it’s corresponding error code number and meaning.</p>
</div>
</section>
<section id="command-parameter">
<h3>Command Parameter<a class="headerlink" href="#command-parameter" title="Link to this heading"></a></h3>
<p>In this section, when introducing the parameter list of an AT command, angle bracket <code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">&gt;</span></code> is added to indicate the name of the parameter, and square bracket <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]</span></code> is added to indicate that the parameter is optional.
Different parameters are separated by commas.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">COMMAND</span><span class="o">=&lt;</span><span class="n">param1</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">param2</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">param3</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p>In this command, the first parameter named <cite>param1</cite> is mandatory, the second parameter named <cite>param2</cite>, and the third parameter named <cite>param3</cite> are optional.</p>
</div>
</section>
<section id="escapes-character">
<h3>Escapes Character<a class="headerlink" href="#escapes-character" title="Link to this heading"></a></h3>
<p>Especially, in several AT commands, if you really need to let one or more comma(s) be part(s) of a parameter, it is recommended to use escapes character <code class="docutils literal notranslate"><span class="pre">\</span></code> instead.
Furthermore, the backslash itself is expressed in escapes character <code class="docutils literal notranslate"><span class="pre">\\</span></code>.</p>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">AT</span><span class="o">+</span><span class="n">COMMAND</span><span class="o">=</span><span class="n">parameter1</span><span class="p">,</span><span class="n">head</span>\<span class="p">,</span><span class="n">tail</span><span class="p">,</span><span class="n">head</span>\\<span class="n">tail</span>
</pre></div>
</div>
<p>In this command, there are three parameters at all, the second parameter is a string <cite>head,tail</cite> which includes a comma.
The comma inside <cite>head,tail</cite> will not be considered as a segmentation of parameters, but as a part of a string.
And, the third parameter is a string <cite>head\tail</cite> including a backslash. Single backslash is illegal here, in other words, single backslash must be followed by a comma or another backslash in these AT commands.</p>
</div>
<p>For the other AT commands which do not need to use escapes character, the comma will always be considered as a segmentation, and single backslash is allowed as a common character.</p>
<table class="docutils align-default" id="id5" style="width: 100%">
<caption><span class="caption-text">Commands with escapes character</span><a class="headerlink" href="#id5" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>AT command</p></th>
<th class="head"><p>Parameter(s) with escapes character</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AT+MQTTSUB</p></td>
<td><p>&lt;topic&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>AT+MQTTUNSUB</p></td>
<td><p>&lt;topic&gt;</p></td>
</tr>
<tr class="row-even"><td><p>AT+MQTTPUB</p></td>
<td><p>&lt;topic&gt;,&lt;msg&gt;</p></td>
</tr>
<tr class="row-odd"><td><p>AT+SKTSEND</p></td>
<td><p>&lt;data&gt;</p></td>
</tr>
</tbody>
</table>
</section>
<section id="command-length">
<h3>Command Length<a class="headerlink" href="#command-length" title="Link to this heading"></a></h3>
<p>Each AT command must not exceed a length limit, otherwise, the excess part will be ignored.</p>
<p>There are two types of length limit. When longer command format is enabled, the length limit is 4095 bytes, otherwise (shorter command format), the length limit is 126 bytes.
When the AT command using escapes character, the escapes characters such as <code class="docutils literal notranslate"><span class="pre">\</span></code> or <code class="docutils literal notranslate"><span class="pre">\\</span></code> should be regarded as 2 bytes.</p>
<p>You can modify the length limit by <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code> when compiling the SDK. If you select the option <code class="docutils literal notranslate"><span class="pre">Enable</span> <span class="pre">Longer</span> <span class="pre">CMD</span></code>, the length limit will be larger.</p>
</section>
</section>
<section id="at-command-list">
<h2>AT Command List<a class="headerlink" href="#at-command-list" title="Link to this heading"></a></h2>
<p>The AT commands supported now are listed below.</p>
<ul class="simple">
<li><p><a class="reference internal" href="common_at_command.html#common-at-commands"><span class="std std-ref">Common AT Commands</span></a></p></li>
<li><p><a class="reference internal" href="wifi_at_command.html#wi-fi-at-commands"><span class="std std-ref">Wi-Fi AT Commands</span></a></p></li>
<li><p><a class="reference internal" href="mqtt_at_command.html#mqtt-at-commands"><span class="std std-ref">MQTT AT Commands</span></a></p></li>
<li><p><a class="reference internal" href="tcp_ip_at_command.html#tcp-ip-at-commands"><span class="std std-ref">TCP/IP AT Commands</span></a></p></li>
<li><p><a class="reference internal" href="bluetooth_at_command.html#bluetooth-at-commands"><span class="std std-ref">Bluetooth AT Commands</span></a></p></li>
</ul>
<p>Please refer to each section to look for more details about the command information of different AT commands.</p>
</section>
<section id="at-command-version">
<h2>AT Command Version<a class="headerlink" href="#at-command-version" title="Link to this heading"></a></h2>
<p>Users can query the current firmware’s AT command version by executing <code class="docutils literal notranslate"><span class="pre">AT+GMR</span></code> command.
The version number employs a semantic versioning system, and its format is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">major</span><span class="o">&gt;.&lt;</span><span class="n">minor</span><span class="o">&gt;.&lt;</span><span class="n">patch</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Where:</p>
<dl class="field-list simple">
<dt class="field-odd">&lt;major&gt;<span class="colon">:</span></dt>
<dd class="field-odd"><p>the major version, represents major updates, typically including the introduction of new chip support, new features, etc.</p>
</dd>
<dt class="field-even">&lt;minor&gt;<span class="colon">:</span></dt>
<dd class="field-even"><p>the minor version, represents important updates, typically including new commands, bug fixes, etc.</p>
</dd>
<dt class="field-odd">&lt;patch&gt;<span class="colon">:</span></dt>
<dd class="field-odd"><p>the patch version, represents fixing some issues without adding any new features.</p>
</dd>
</dl>
<div class="admonition-example admonition">
<p class="admonition-title">Example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">send</span> <span class="n">ATCMD</span>
<span class="n">AT</span><span class="o">+</span><span class="n">GMR</span>
<span class="o">//</span> <span class="n">receive</span> <span class="n">ATCMD</span> <span class="n">response</span>
<span class="o">+</span><span class="n">GMR</span><span class="p">:</span>
<span class="n">ATCMD</span> <span class="n">VERSION</span><span class="p">:</span> <span class="n">v2</span><span class="mf">.2.1</span>
<span class="n">SDK</span> <span class="n">VERSION</span><span class="p">:</span> <span class="n">v3</span><span class="mf">.5</span>
</pre></div>
</div>
</div>
</section>
<section id="building-image">
<h2>Building image<a class="headerlink" href="#building-image" title="Link to this heading"></a></h2>
<section id="preparation">
<h3>Preparation<a class="headerlink" href="#preparation" title="Link to this heading"></a></h3>
<p>Besides obtaining the release version from GitHub, users can also build images with <code class="docutils literal notranslate"><span class="pre">{sdk}</span></code> by self. For detailed building procedure, refer to the Application Note of the specific Ameba chips.</p>
</section>
<section id="building">
<h3>Building<a class="headerlink" href="#building" title="Link to this heading"></a></h3>
<p>After preparations above, users can build images in the <code class="docutils literal notranslate"><span class="pre">{sdk}</span></code> directory. The procedure is as follows:</p>
<ol class="arabic">
<li><p>Run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code> to choose MCU Control mode or LOGUART mode.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Your SDK direction
cd $ {sdk}
// The chip type you choose, e.g. amebadplus_gcc_project
cd source/{ameba_name}
make menuconfig
// ...
</pre></div>
</div>
<figure class="align-center" id="id6">
<a class="reference internal image-reference" href="../../../../_images/choice_mode.png"><img alt="../../../../_images/choice_mode.png" src="../../../../_images/choice_mode.png" style="width: 246.6px; height: 241.20000000000002px;" /></a>
<figcaption>
<p><span class="caption-text">Choice mode</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">all</span></code> to rebuild the project.</p></li>
<li><p>After building successfully, the image files can be found under <code class="docutils literal notranslate"><span class="pre">{ameba_name}</span></code> directory.</p></li>
</ol>
<p>If users want to use Bluetooth AT Commands, run <code class="docutils literal notranslate"><span class="pre">$make</span> <span class="pre">menuconfig</span></code> to enable BLE transfer module first.</p>
<figure class="align-center" id="id7">
<a class="reference internal image-reference" href="../../../../_images/enable_ble_transfer_module.png"><img alt="../../../../_images/enable_ble_transfer_module.png" src="../../../../_images/enable_ble_transfer_module.png" style="width: 381.6px; height: 488.7px;" /></a>
<figcaption>
<p><span class="caption-text">Enable BLE transfer module</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
<section id="downloading-image">
<h2>Downloading Image<a class="headerlink" href="#downloading-image" title="Link to this heading"></a></h2>
<p>There are two ways to download image to Flash:</p>
<ul class="simple">
<li><p>Image Tool, a software provided by Realtek (recommended).</p></li>
<li><p>GDB Server, mainly used for GDB debug user case.</p></li>
</ul>
<p>In this section, we will introduce the first one.</p>
<p>The Image Tool is the official image download tool developed by Realtek for Ameba series SoC.
It can be used to download images to the Flash of device through the UART download interface.</p>
<p>When you lanuch the image tool, it is shown as the following figure.</p>
<figure class="align-center" id="id8">
<a class="reference internal image-reference" href="../../../../_images/image_tool.png"><img alt="../../../../_images/image_tool.png" src="../../../../_images/image_tool.png" style="width: 663.5999999999999px; height: 555.8px;" /></a>
<figcaption>
<p><span class="caption-text">Image Tool</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The device profiles provide the necessary device information required for image download, with the naming rules:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">SoC</span> <span class="n">name</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">OS</span> <span class="nb">type</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">Flash</span> <span class="nb">type</span><span class="o">&gt;</span><span class="p">[</span><span class="n">_</span><span class="o">&lt;</span><span class="n">Extra</span> <span class="n">info</span><span class="o">&gt;</span><span class="p">]</span><span class="o">.</span><span class="n">rdev</span>
</pre></div>
</div>
<p>For different Ameba chips, click the <span class="menuselection">File &gt; Open</span> to select the corresponding <code class="docutils literal notranslate"><span class="pre">.rdev</span></code> file before downloading image to Flash. Then, select the corresponding image files.</p>
<p>Before downloading image, the chip should enter download mode at first.</p>
<ol class="arabic simple">
<li><p>Press and hold the <span class="guilabel">DOWNLOAD</span> button on chip</p></li>
<li><p>Press the <span class="guilabel">CHIP_EN</span> button</p></li>
<li><p>Release them both to let the chip enter download mode</p></li>
<li><p>Connect the chip module to PC with USB cable, and press the <span class="guilabel">DOWNLOAD</span> button of Image Tool to start downloading the image files</p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="AT Command" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="common_at_command.html" class="btn btn-neutral float-right" title="Common AT Commands" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Realsil.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>