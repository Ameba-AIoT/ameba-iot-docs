

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trace Tool &mdash; Ameba IoT Docs  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=7d84cf84" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../_static/_static/custom.css" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/toggleprompt.js?v=d7ede5d2"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Layout Tool" href="1_layout_tool_toprst.html" />
    <link rel="prev" title="Image Tool" href="1_image_tool_toprst.html" />
   
  
  <script type="text/javascript" src="../../_static/js/selector.js"></script>

  <style>
    .wy-nav-content {max-width: 1000px;} /* 设置最大宽度 */
  </style>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Ameba IoT Docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../0_ameba_product/0_ameba_product_center_index.html">Products Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0_ameba_sdk/0_ameba_sdks_index.html">Ameba SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/0_release_packages/0_release_packages_index.html">0.0 Release Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/0_gcc_build_environment/0_gcc_build_index.html">0.1 Build Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/0_sdk_architecture/0_sdk_architecture_index.html">0.2 SDK Architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="0_tools_index.html">0.7 Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1_image_tool_toprst.html">Image Tool</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Trace Tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#environment-setup">Environment Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hardware-connection">Hardware Connection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#software-setup">Software Setup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#log-print">Log Print</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-send">Command Send</a></li>
<li class="toctree-l4"><a class="reference internal" href="#command-prefix">Command Prefix</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debug">Debug</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auto-script">AUTO Script</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="1_layout_tool_toprst.html">Layout Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="1_pinmux_tool_toprst.html">Pinmux Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="1_cap_test_tool_toprst.html">Captouch Test Tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/0_question_help/0_question_help_index.html">0.A Questions and Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/0_debugging/0_debugging_index.html">0.B System Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/1_boot_process/0_boot_index.html">1.1 BOOT Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/1_ota/0_ota_index.html">1.2 OTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/1_otpc/0_otpc_index.html">1.3 OTPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/1_flash/0_flash_index.html">1.4 Flash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/1_gpio/0_gpio_index.html">1.7 GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/1_power_save/0_ps_index.html">1.8 Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/3_nda_secure_boot/0_secure_boot_index_nda.html">3.6 Secure Boot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/7_usb_boot/0_usb_boot_index.html">3.7 USB Boot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/3_crypto_engine/0_crypto_engine_index.html">3.8 Crypto Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/4_multimedia/0_multimedia_index.html">4.3 Multimedia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/7_usb/0_usb_index.html">7.1 USB Host &amp; Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/7_sdio/0_sdioh_index.html">7.2 SDIO Host</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_dmac/0_dmac_index.html">8.1 DMA Controllor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_rtc/0_rtc_index.html">8.2 RTC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_thermal/0_thermal_index.html">8.3 Thermal Meter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_adc/0_adc_index.html">8.4 ADC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_cap_touch/0_cap_touch_index.html">8.5 Cap-Touch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_ir/0_ir_index.html">8.6 IR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_ledc/0_ledc_index.html">8.7 LEDC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_i2c/0_i2c_index.html">8.8 I2C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_uart/0_uart_index.html">8.9 UART</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_lcdc/0_lcdc_index.html">8.A LCDC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_spi/0_spi_index.html">8.B SPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_spic/0_spic_index.html">8.C SPI Flash Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_timer/0_timer_index.html">8.D Timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_wdg/0_wdg_index.html">8.E Watchdog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/9_bluetooth/0_bluetooth_index.html">9.1 Bluetooth</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Ameba IoT Docs</a>
      </nav>

      <div class="wy-nav-content">

        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="0_tools_index.html">Tools</a></li>
      <li class="breadcrumb-item active">Trace Tool</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="trace-tool">
<span id="id1"></span><h1>Trace Tool<a class="headerlink" href="#trace-tool" title="Link to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>The Trace Tool is the official serial port debug tool developed by Realtek. It can be used to communicate with the device over a standard RS-232 port.
You can directly input commands into the terminal and view or record logs in real time through Trace Tool.</p>
<p>This chapter illustrates how to use Trace Tool to print logs and send commands. The UI of Trace Tool is shown below.
The Trace Tool can display logs when the AGG function of loguart is enabled or disabled. There are two configuration tabs in the upper left corner of UI.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Edit</span></code>: the history logs clear, history commands clear, load and save.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Option:</span> <span class="pre">Global</span> <span class="pre">Settings</span></code> including row count and timestamp, and <code class="docutils literal notranslate"><span class="pre">Tag</span> <span class="pre">Filter</span></code> is used to attach different tag before logs to distinguish logs from different cores when the AGG function is enabled.</p></li>
</ul>
<figure class="align-center" id="fig1-trace-tool-ui">
<a class="reference internal image-reference" href="../../_images/tracetool_ui.png"><img alt="../../_images/tracetool_ui.png" src="../../_images/tracetool_ui.png" style="width: 853.8px; height: 608.4px;" /></a>
<figcaption>
<p><span class="caption-text">Trace tool UI</span><a class="headerlink" href="#fig1-trace-tool-ui" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>By default, the AGG (aggregation) function of loguart is disabled so any serial tool can be used to display logs.
When the AGG function is enabled, every packet will be send from UART Tx module with AGG header, which is used for Trace Tool
to distinguish multi-path data that from different cores.</p>
<ul>
<li><p>When the AGG function is enabled, hardware will attach AGG header automatically. TraceTool can separate logs from different paths according to AGG header.</p>
<p>In this case, logs from BT trace and BT FW will be saved into files separately and other logs will print on screen.
Therefore, users must use Trace Tool instead of any other serial port tools because the latter will print disordered logs.</p>
</li>
<li><p>When the AGG function is disabled, no AGG header is attached. In this case, users can use other tools to print log as long as there is no BT trace and BT FW logs.</p>
<p>But disordered logs may appear when more than one CPU are printing logs.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The AGG function can be enabled by setting <em>Boot_Agg_En</em> to TRUE in <code class="file docutils literal notranslate"><span class="pre">ameba_bootcfg.c</span></code>.</p>
</div>
</section>
<section id="environment-setup">
<span id="trace-tool-environment-setup"></span><h2>Environment Setup<a class="headerlink" href="#environment-setup" title="Link to this heading"></a></h2>
<section id="hardware-connection">
<h3>Hardware Connection<a class="headerlink" href="#hardware-connection" title="Link to this heading"></a></h3>
<p>The hardware connection is illustrated below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If external UART is used to download images, the USB to UART dongle must be used.</p>
</div>
</section>
<section id="software-setup">
<h3>Software Setup<a class="headerlink" href="#software-setup" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p>Environment requirements:</p>
<ul>
<li><p>WinXP above</p></li>
<li><p>.NET Framework 4.0</p></li>
</ul>
</li>
<li><p>Software location: <code class="docutils literal notranslate"><span class="pre">{SDK}/tools/ameba/TraceTool/AmebaTraceTool.exe</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The host driver for USB to UART adapter (e.g. PL2303GC) on the board shall be installed first; otherwise, the LOGUART port cannot be recognized by the host.
Please find the exact driver from the official website of corresponding vendor of the USB to UART adapter.</p>
</div>
</section>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Link to this heading"></a></h2>
<section id="log-print">
<h3>Log Print<a class="headerlink" href="#log-print" title="Link to this heading"></a></h3>
<p>After setting the environment mentioned in Section <a class="reference internal" href="#trace-tool-environment-setup"><span class="std std-ref">Environment Setup</span></a>, execute the following steps:</p>
<ol class="arabic">
<li><p>Select COM port.</p>
<ol class="loweralpha">
<li><p>Check your COM through <strong>Device Manager</strong> in your computer, as shown below. In <span class="guilabel">COM &amp; LPT</span> item, all the COM ports connected to the computer are listed.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/tracetool_port_1.PNG"><img alt="../../_images/tracetool_port_1.PNG" src="../../_images/tracetool_port_1.PNG" style="width: 362.7px; height: 422.1px;" /></a>
</figure>
</li>
<li><p>Select COM port in <span class="guilabel">Port Setting</span> box.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/tracetool_port_2.png"><img alt="../../_images/tracetool_port_2.png" src="../../_images/tracetool_port_2.png" style="width: 316.5px; height: 127.5px;" /></a>
</figure>
</li>
</ol>
</li>
<li><p>Set the format.</p>
<ul class="simple">
<li><p><em>Baudrate</em>: default is 1500000bps.</p></li>
<li><p><em>Data Bits</em>: default is 8.</p></li>
<li><p><em>Parity</em>: default is “None”.</p></li>
<li><p><em>Stop Bits</em>: default is 1.</p></li>
<li><p><em>Encoding</em>: default is UTF8.</p></li>
</ul>
<p>These settings should not be changed freely. If users have to change the format setting for some reasons, the loguart format needs
to be changed accordingly to make sure that the format of loguart matches that of Trace Tool.</p>
</li>
<li><p>Click the <span class="guilabel">Open</span> button, then choose <span class="guilabel">Global Settings</span> to select whether add timestamp.</p>
<p>Note that the timestamp is not very accurate because log processing takes time so there is a slight time interval between receiving logs and displaying logs.</p>
<ul class="simple">
<li><p>When COM port is open, the Trace Tool starts to receive logs from the device. Log is shown in Log window. By default, the timestamp is inserted at the start of each log.</p></li>
<li><p>If COM port is closed, the Trace Tool will not display logs and the commands can’t be sent.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/tracetool_log.png"><img alt="../../_images/tracetool_log.png" src="../../_images/tracetool_log.png" style="width: 904.5px; height: 604.8000000000001px;" /></a>
</figure>
</li>
</ol>
<p>The Trace Tool supports log saving function.</p>
<ul>
<li><p>After clicking <span class="guilabel">Start</span> button in <span class="guilabel">Logging</span> box, all the receiving logs can be saved in a <code class="docutils literal notranslate"><span class="pre">.txt</span></code> file in the log folder of the same directory for <code class="docutils literal notranslate"><span class="pre">.exe</span></code> file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For segmented log, click <span class="guilabel">Option</span> and <span class="guilabel">Global Settings</span> to set log size.</p>
</div>
</li>
<li><p>After clicking <span class="guilabel">Open Dir</span> button in <span class="guilabel">Logging</span> box, the folder where the log is stored can be opened directly.</p></li>
</ul>
<p>The Trace Tool can print logs when the AGG function of loguart is enabled or disabled, because the Trace Tool can automatically detect whether the AGG function is enabled
or not and can handle it accordingly. When the AGG function is enabled, chick <span class="guilabel">Option</span> button and choose <span class="guilabel">Tag Filter</span>, log from different cores will be added corresponding tags.
There may be a period of disorder logs when the AGG function switches from enable to disable or from disable to enable.</p>
</section>
<section id="command-send">
<h3>Command Send<a class="headerlink" href="#command-send" title="Link to this heading"></a></h3>
<p>When COM port is open, you can send commands to the device through Trace Tool. The steps are shown below:</p>
<ol class="arabic">
<li><p>Input a command in command box as shown in the red block.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/tracetool_command_box.png"><img alt="../../_images/tracetool_command_box.png" src="../../_images/tracetool_command_box.png" style="width: 639.6px; height: 427.8px;" /></a>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Refer to <a class="reference internal" href="#command-prefix"><span class="std std-ref">Command Prefix</span></a> to decide whether a command prefix is needed to add before the command.</p>
</div>
</li>
<li><p>Press the <span class="guilabel">Enter</span> key.</p></li>
</ol>
<p>The history command box records the commands have been sent before.</p>
<ul class="simple">
<li><p>Click the command, it will be displayed in the command box.</p></li>
<li><p>Double-click the command, it will be sent to the chip.</p></li>
<li><p>Click the command then click <span class="guilabel">delete</span>, the command will be deleted from the history command box.</p></li>
</ul>
</section>
<section id="command-prefix">
<span id="id2"></span><h3>Command Prefix<a class="headerlink" href="#command-prefix" title="Link to this heading"></a></h3>
</section>
<section id="debug">
<h3>Debug<a class="headerlink" href="#debug" title="Link to this heading"></a></h3>
<section id="register-access">
<h4>Register Access<a class="headerlink" href="#register-access" title="Link to this heading"></a></h4>
<p>The REG function is used to read and write registers by register address.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Type</span></code>: used to select the register type. Wifi MAC/Wifi BB/Wifi RF options are used for Wi-Fi function, which have different base addresses. Select the corresponding options according to your needs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Read/Write</span> <span class="pre">Register</span></code>: enter the register address to <code class="docutils literal notranslate"><span class="pre">Read</span></code> or <code class="docutils literal notranslate"><span class="pre">Write</span></code> the register value. <code class="docutils literal notranslate"><span class="pre">Dump</span></code> means batch printing register values, only Wifi MAC/Wifi BB/Wifi RF registers are supported to be dump.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Bit</span> <span class="pre">Value</span></code>: bitwise accessing the register specified by address.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/tracetool_register.png"><img alt="../../_images/tracetool_register.png" src="../../_images/tracetool_register.png" style="width: 250.5px; height: 301.5px;" /></a>
</figure>
</li>
</ul>
</section>
<section id="scope-illustration">
<h4>Scope Illustration<a class="headerlink" href="#scope-illustration" title="Link to this heading"></a></h4>
<p>The scope function is used to capture specific data in log and illustrate waveform dynamically.</p>
<ol class="arabic simple">
<li><p>Enter <em>X</em> and <em>Y</em> pattern, <em>X</em> default value is time.</p></li>
<li><p>Click <span class="guilabel">Start</span> button.</p></li>
</ol>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/tracetool_scope_1.png"><img alt="../../_images/tracetool_scope_1.png" src="../../_images/tracetool_scope_1.png" style="width: 853.8px; height: 599.4px;" /></a>
</figure>
<p>In the scope interface, waveform will be illustrated synchronously.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/tracetool_scope_2.png"><img alt="../../_images/tracetool_scope_2.png" src="../../_images/tracetool_scope_2.png" style="width: 853.8px; height: 599.4px;" /></a>
</figure>
</section>
<section id="wifi-debug">
<h4>WiFi Debug<a class="headerlink" href="#wifi-debug" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DIG_MARGIN</span></code>: set WiFi DIG margin, available address: [0x00,0x3c].</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EDCCA</span></code>: set MAC EDCCA mode, available value: 0/1/9.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DBG</span></code>: set Wi-Fi RA debug, avilable address: [0,0xff], and illustrate <em>CCK_FA</em> and <em>OFDM_FA</em> average value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Power</span> <span class="pre">Save</span></code>: enable or disable Wi-Fi power saving mode.</p></li>
</ul>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/tracetool_wifi_debug.png"><img alt="../../_images/tracetool_wifi_debug.png" src="../../_images/tracetool_wifi_debug.png" style="width: 278.1px; height: 162.9px;" /></a>
</figure>
</section>
</section>
<section id="auto-script">
<h3>AUTO Script<a class="headerlink" href="#auto-script" title="Link to this heading"></a></h3>
<section id="id3">
<h4>Usage<a class="headerlink" href="#id3" title="Link to this heading"></a></h4>
<p>The AUTO feature is used for automatic script execution.</p>
<ol class="arabic simple">
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Browse</span></code> button to choose the script you want to execute.</p></li>
<li><p>Click <code class="docutils literal notranslate"><span class="pre">Execute</span></code> button to execute the script.</p></li>
</ol>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/tracetool_auto_script_1.png"><img alt="../../_images/tracetool_auto_script_1.png" src="../../_images/tracetool_auto_script_1.png" style="width: 287.1px; height: 196.20000000000002px;" /></a>
</figure>
</section>
<section id="script-format">
<h4>Script Format<a class="headerlink" href="#script-format" title="Link to this heading"></a></h4>
<p>The format of script.txt which is used in auto mode is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>CMD1
CMD2
CMD3
…
</pre></div>
</div>
<ul>
<li><p>If commands are required to be repeated multiple times, loop can be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>loop=10
loop_start
CMD1
CMD2
sleep 1000
…
loop_end
</pre></div>
</div>
<p>For a loop, three key words are necessary:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Loop</span></code>: The number after <code class="docutils literal notranslate"><span class="pre">loop=</span></code> means loop times.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loop_start</span></code>: Used to mark the beginning of the loop.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loop_end</span></code>: Used to mark the end of the loop.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loop_start</span></code> and <code class="docutils literal notranslate"><span class="pre">loop_end</span></code> have to appear in pairs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sleep</span></code>: Used to delay some time between commands, and unit is millisecond. <code class="docutils literal notranslate"><span class="pre">sleep</span> <span class="pre">1000</span></code> means to delay 1000ms. There should be a blank space between sleep and sleep time.</p></li>
</ul>
</li>
<li><p>Nested loop is supported as below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">loop</span><span class="o">=</span><span class="mi">2</span>
<span class="n">loop_start</span>
<span class="n">CMD1</span>
<span class="n">sleep</span> <span class="mi">1000</span>
<span class="n">loop</span><span class="o">=</span><span class="mi">3</span>
<span class="n">loop_start</span>
<span class="n">CMD2</span>
<span class="n">sleep</span> <span class="mi">2000</span>
<span class="n">loop_end</span>
<span class="n">loop_end</span>
</pre></div>
</div>
</li>
<li><p>Catching certain patterns, like <em>pass_pattern</em> or <em>fail_pattern</em>, to indicate that the result of specific CMD execution is supported, the format is as below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>loop=10
loop_start
timeout=1000
pass_pattern=xxx
fail_patern=xxx
CMD1
if fail/pass/timeout
break
fi
CMD2
…
loop_end
</pre></div>
</div>
<ul>
<li><p>The key word <em>pass_pattern</em>, <em>fail_pattern</em> and <em>timeout</em> are only valid for the next command CMD1, used to catch patterns in CMD1 execution.</p>
<p>When catching the patterns, key word <code class="docutils literal notranslate"><span class="pre">if...fi</span></code> can be used to perform subsequent operation, now only the <code class="docutils literal notranslate"><span class="pre">break</span></code> operation is supported, which is used to jump out of the loop.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/tracetool_auto_script_2.png"><img alt="../../_images/tracetool_auto_script_2.png" src="../../_images/tracetool_auto_script_2.png" style="width: 654.6px; height: 466.2px;" /></a>
</figure>
</li>
<li><p>The number after <code class="docutils literal notranslate"><span class="pre">timeout=</span></code> means the time frame you want to catch log to match the pattern. It can be set to different values according to needs (unit: millisecond), and default value is 5000.</p></li>
<li><p>The string after <code class="docutils literal notranslate"><span class="pre">pass_pattern=</span></code> means the pass_pattern, and the string after <code class="docutils literal notranslate"><span class="pre">fail_pattern=</span></code> means the fail_pattern, which is used to indicate the result of the CMD execution.</p></li>
</ul>
<p>When the corresponding pattern is matched or not during CMD execution, there will be three results:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Pass</span></code>: <em>pass_pattern</em> matched within timeout in CMD execution results.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Fail</span></code>: <em>fail_pattern</em> matched within timeout in CMD execution results.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Timeout</span></code>: no <em>pass_pattern</em>/<em>fail_pattern</em> matched within timeout in CMD execution results.</p></li>
</ul>
</li>
</ul>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<ul class="simple">
<li><p>One command in a single line.</p></li>
<li><p>TAB is used to indent a line. Only TAB can be used, WHITE SPACE is not allowed.</p></li>
<li><p>WHITE SPACE before or after <code class="docutils literal notranslate"><span class="pre">=</span></code> is not allowed.</p></li>
</ul>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="1_image_tool_toprst.html" class="btn btn-neutral float-left" title="Image Tool" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="1_layout_tool_toprst.html" class="btn btn-neutral float-right" title="Layout Tool" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Realsil.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>

      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>