

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Image Tool &mdash; Ameba IoT Docs  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=7d84cf84" />
      <link rel="stylesheet" type="text/css" href="../../_static/tabs.css?v=a5c4661c" />
      <link rel="stylesheet" type="text/css" href="../../_static/_static/custom.css" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/toggleprompt.js?v=d7ede5d2"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Trace Tool" href="1_trace_tool_toprst.html" />
    <link rel="prev" title="Tools" href="0_tools_index.html" />
   
  
  <script type="text/javascript" src="../../_static/js/selector.js"></script>

  <style>
    .wy-nav-content {max-width: 1000px;} /* 设置最大宽度 */
  </style>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Ameba IoT Docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../0_ameba_product/0_ameba_product_center_index.html">Products Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0_ameba_sdk/0_ameba_sdks_index.html">Ameba SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/0_release_packages/0_release_packages_index.html">0.0 Release Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/0_gcc_build_environment/0_gcc_build_index.html">0.1 Build Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/0_sdk_architecture/0_sdk_architecture_index.html">0.2 SDK Architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="0_tools_index.html">0.7 Tools</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Image Tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#environment-setup">Environment Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hardware-setup">Hardware Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#software-setup">Software Setup</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#image-download">Image Download</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#download-images">Download Images</a></li>
<li class="toctree-l4"><a class="reference internal" href="#download-steps">Download Steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#flash-erase">Flash Erase</a></li>
<li class="toctree-l3"><a class="reference internal" href="#flash-register-access">Flash Register Access</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#nor-flash-register-access">NOR Flash Register Access</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#flash-block-protection-process">Flash Block Protection Process</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modifying-device-profile">Modifying Device Profile</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="1_trace_tool_toprst.html">Trace Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="1_layout_tool_toprst.html">Layout Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="1_pinmux_tool_toprst.html">Pinmux Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="1_cap_test_tool_toprst.html">Captouch Test Tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/0_question_help/0_question_help_index.html">0.A Questions and Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/0_debugging/0_debugging_index.html">0.B System Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/1_boot_process/0_boot_index.html">1.1 BOOT Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/1_ota/0_ota_index.html">1.2 OTA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/1_otpc/0_otpc_index.html">1.3 OTPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/1_flash/0_flash_index.html">1.4 Flash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/1_gpio/0_gpio_index.html">1.7 GPIO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/1_power_save/0_ps_index.html">1.8 Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/3_nda_secure_boot/0_secure_boot_index_nda.html">3.6 Secure Boot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/7_usb_boot/0_usb_boot_index.html">3.7 USB Boot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/3_crypto_engine/0_crypto_engine_index.html">3.8 Crypto Engine</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/4_multimedia/0_multimedia_index.html">4.3 Multimedia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/7_usb/0_usb_index.html">7.1 USB Host &amp; Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/7_sdio/0_sdioh_index.html">7.2 SDIO Host</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_dmac/0_dmac_index.html">8.1 DMA Controllor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_rtc/0_rtc_index.html">8.2 RTC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_thermal/0_thermal_index.html">8.3 Thermal Meter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_adc/0_adc_index.html">8.4 ADC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_cap_touch/0_cap_touch_index.html">8.5 Cap-Touch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_ir/0_ir_index.html">8.6 IR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_ledc/0_ledc_index.html">8.7 LEDC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_i2c/0_i2c_index.html">8.8 I2C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_uart/0_uart_index.html">8.9 UART</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_lcdc/0_lcdc_index.html">8.A LCDC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_spi/0_spi_index.html">8.B SPI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_spic/0_spic_index.html">8.C SPI Flash Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_timer/0_timer_index.html">8.D Timer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/8_wdg/0_wdg_index.html">8.E Watchdog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rst_linux/9_bluetooth/0_bluetooth_index.html">9.1 Bluetooth</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Ameba IoT Docs</a>
      </nav>

      <div class="wy-nav-content">

        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="0_tools_index.html">Tools</a></li>
      <li class="breadcrumb-item active">Image Tool</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="image-tool">
<span id="id1"></span><h1>Image Tool<a class="headerlink" href="#image-tool" title="Link to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>The Image Tool is the official image download tool developed by Realtek for Ameba series SoC.
It can be used to download images to the Flash of the device through the interfaces below.</p>
<table class="docutils align-default" id="id3" style="width: 100%">
<caption><span class="caption-text">Download interface supported by different Ameba SoCs</span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head" rowspan="2"><p>Ameba SoC</p></th>
<th class="head" rowspan="2"><p>Flash type</p></th>
<th class="head" colspan="2"><p>Download interface</p></th>
</tr>
<tr class="row-even"><th class="head"><p>UART</p></th>
<th class="head"><p>USB</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="2"><p>RTL8730E</p></td>
<td><p>NOR Flash</p></td>
<td><p>√</p></td>
<td><p>√</p></td>
</tr>
<tr class="row-even"><td><p>NAND Flash</p></td>
<td><p>X</p></td>
<td><p>√</p></td>
</tr>
<tr class="row-odd"><td><p>RTL8721Dx</p>
<p>RTL8711Dx</p>
</td>
<td><p>NOR Flash</p></td>
<td><p>√</p></td>
<td><p>√</p></td>
</tr>
<tr class="row-even"><td><p>RTL8726EA</p>
<p>RTL8713EC</p>
<p>RTL8720EA</p>
<p>RTL8710EC</p>
</td>
<td><p>NOR Flash</p></td>
<td><p>√</p></td>
<td><p>X</p></td>
</tr>
</tbody>
</table>
<p>The UI of Image Tool is shown below.</p>
<figure class="align-center" id="id5">
<a class="reference internal image-reference" href="../../_images/imgtool_image_tool_ui_linux.png"><img alt="../../_images/imgtool_image_tool_ui_linux.png" src="../../_images/imgtool_image_tool_ui_linux.png" style="width: 851.4px; height: 713.7px;" /></a>
<figcaption>
<p><span class="caption-text">Image Tool UI</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="environment-setup">
<h2>Environment Setup<a class="headerlink" href="#environment-setup" title="Link to this heading"></a></h2>
<section id="hardware-setup">
<h3>Hardware Setup<a class="headerlink" href="#hardware-setup" title="Link to this heading"></a></h3>
<p>The hardware setup for image download is shown below.</p>
</section>
<section id="software-setup">
<h3>Software Setup<a class="headerlink" href="#software-setup" title="Link to this heading"></a></h3>
<ul>
<li><p>Environment Requirements: EX. WinXP, Win 7 or later, Microsoft .NET Framework 4.0.</p></li>
<li><p>Software location:</p>
<blockquote>
<div><ul class="simple">
<li><p>Image Tool: <code class="docutils literal notranslate"><span class="pre">{SDK}/tools/ameba/ImageTool/AmebaImageTool.exe</span></code></p></li>
<li><p>Device Profile Editor: <code class="docutils literal notranslate"><span class="pre">{SDK}/tools/ameba/DeviceProfileEditor/AmebaDeviceProfileEditor.exe</span></code></p></li>
</ul>
<ul>
<li><p>Device profiles: <code class="docutils literal notranslate"><span class="pre">{SDK}/tools/ameba/DeviceProfiles</span></code></p>
<p>Device profiles provide the necessary device information required for image download, with the naming rules:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">SoC</span> <span class="n">name</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">OS</span> <span class="nb">type</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">Flash</span> <span class="nb">type</span><span class="o">&gt;</span><span class="p">[</span><span class="n">_</span><span class="o">&lt;</span><span class="n">Extra</span> <span class="n">info</span><span class="o">&gt;</span><span class="p">]</span><span class="o">.</span><span class="n">rdev</span>
</pre></div>
</div>
<p>Where:</p>
<dl class="field-list simple">
<dt class="field-odd">SoC name<span class="colon">:</span></dt>
<dd class="field-odd"><p>the name of Realtek Ameba SoC</p>
</dd>
<dt class="field-even">OS type<span class="colon">:</span></dt>
<dd class="field-even"><p>FreeRTOS or Linux</p>
</dd>
<dt class="field-odd">Flash type<span class="colon">:</span></dt>
<dd class="field-odd"><p>NOR or NAND</p>
</dd>
<dt class="field-even">Extra info<span class="colon">:</span></dt>
<dd class="field-even"><p>extra information like Flash size, application, etc.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">{ImageTool}</span></code> will be used for short of <code class="docutils literal notranslate"><span class="pre">{SDK}/tools/ameba/ImageTool</span></code> in the following sections.</p></li>
<li><p>To download images through UART interface, the host driver for USB to UART adapter (e.g. PL2303GC) on the board shall be installed first, please find the exact driver from the official website of corresponding vendor of the USB to UART adapter.</p></li>
<li><p>For WinXP or Win7 only, install the USB driver <code class="file docutils literal notranslate"><em><span class="pre">ImageTool</span></em><span class="pre">/RtkUsbCdcAcmSetup.INF</span></code> if there is a need to download images through USB interface.</p></li>
</ul>
</div>
</section>
</section>
<section id="image-download">
<h2>Image Download<a class="headerlink" href="#image-download" title="Link to this heading"></a></h2>
<section id="download-images">
<h3>Download Images<a class="headerlink" href="#download-images" title="Link to this heading"></a></h3>
<p>For an empty chip, the following mandatory images shall be downloaded:</p>
<table class="docutils align-default" style="width: 100%">
<thead>
<tr class="row-odd"><th class="head"><p>Ameba SoC</p></th>
<th class="head"><p>Image name</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Mandatory?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="14"><p>RTL8730E</p></td>
<td><p>A: km4_boot_all.bin</p></td>
<td><p>A slot: KM4 bootloader</p></td>
<td><p>√</p></td>
</tr>
<tr class="row-odd"><td><p>A: km0_km4_app.bin</p></td>
<td><p>A slot: KM0/KM4 applications</p></td>
<td><p>√</p></td>
</tr>
<tr class="row-even"><td><p>A: boot.img</p></td>
<td><p>A slot: CA32 firmware package, including BL1, BL2, BL32 and BL33</p></td>
<td><p>√</p></td>
</tr>
<tr class="row-odd"><td><p>B: km4_boot_all.bin</p></td>
<td><p>B slot: KM4 bootloader</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>B: km0_km4_app.bin</p></td>
<td><p>B slot: KM0/KM4 applications</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>B: boot.img</p></td>
<td><p>B slot: CA32 firmware package, including BL1, BL2, BL32 and BL33</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>A: vbmeta.img</p></td>
<td><p>A slot: AP Linux meta data image, only for secure boot</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>B: vbmeta.img</p></td>
<td><p>B slot: AP Linux meta data image, only for secure boot</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>A: xxx.dtb*</p></td>
<td><p>A slot: AP Linux DTB (device tree blob)</p></td>
<td><p>√</p></td>
</tr>
<tr class="row-odd"><td><p>B: xxx.dtb*</p></td>
<td><p>B slot: AP Linux DTB for recovery</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>A: kernel.img</p></td>
<td><p>A slot: AP Linux kernel</p></td>
<td><p>√</p></td>
</tr>
<tr class="row-odd"><td><p>B: kernel.img</p></td>
<td><p>B slot: AP Linux kernel</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>rootfs.img</p></td>
<td><p>AP Linux rootfs binary</p></td>
<td><p>√</p></td>
</tr>
<tr class="row-odd"><td><p>userdata.img</p></td>
<td><p>AP user data binary</p></td>
<td><p>√</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For DTB image, Yocto will build all available DTS files in SDK into DTB images for users to select as required.</p>
</div>
<table class="docutils align-default" style="width: 100%">
<thead>
<tr class="row-odd"><th class="head"><p>DTB image name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>rtl8730elh-va7-generic.dtb</p></td>
<td><p>DTB for RTL8730ELH-VA7, with minimum features for customer design reference</p></td>
</tr>
<tr class="row-odd"><td><p>rtl8730elh-va7-full.dtb</p></td>
<td><p>DTB for RTL8730ELH-VA7, with maximum features for development and demonstration</p></td>
</tr>
<tr class="row-even"><td><p>rtl8730elh-va7-tests-xxx.dtb</p></td>
<td><p>DTB for RTL8730ELH-VA7, with BSP test support, where <cite>xxx</cite> is:</p>
<ul class="simple">
<li><p>adc-diff: ADC differential mode test</p></li>
<li><p>adc-sig: ADC single mode test</p></li>
<li><p>ctc: CTC test</p></li>
<li><p>i2c: I2C test</p></li>
<li><p>ir-rx: IR RX test</p></li>
<li><p>ir-tx: IR TX test</p></li>
<li><p>misc: Misc test</p></li>
<li><p>spi: SPI test</p></li>
<li><p>uart: UART test</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>rtl8730elh-va8-generic.dtb</p></td>
<td><p>DTB for RTL8730ELH-VA8, with minimum features for customer design reference</p></td>
</tr>
<tr class="row-even"><td><p>rtl8730elh-va8-full.dtb</p></td>
<td><p>DTB for RTL8730ELH-VA8, with maximum features for development and demonstration</p></td>
</tr>
<tr class="row-odd"><td><p>rtl8730elh-va8-tests-xxx.dtb</p></td>
<td><p>DTB for RTL8730ELH-VA8, with BSP test support, where <cite>xxx</cite> is:</p>
<ul class="simple">
<li><p>adc-diff: ADC differential mode test</p></li>
<li><p>adc-sig: ADC single mode test</p></li>
<li><p>ctc: CTC test</p></li>
<li><p>i2c: I2C test</p></li>
<li><p>ir-rx: IR RX test</p></li>
<li><p>ir-tx: IR TX test</p></li>
<li><p>misc: Misc test</p></li>
<li><p>spi: SPI test</p></li>
<li><p>uart: UART test</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Refer to <a class="reference download internal" download="" href="../../_downloads/656dbda9614f16a5fd70e690f16d8de0/PM0603_RTL8730E_Linux_DTS_Pinmux_Configurations.xlsx"><code class="xref download docutils literal notranslate"><span class="pre">Linux</span> <span class="pre">DTS</span> <span class="pre">Pinmux</span> <span class="pre">Configurations</span></code></a> for detailed information of DTS pinmux groups.</p>
</div>
</section>
<section id="download-steps">
<h3>Download Steps<a class="headerlink" href="#download-steps" title="Link to this heading"></a></h3>
<p>The image download steps are illustrated below:</p>
<ol class="arabic">
<li><p>Enter into download mode.</p>
<ol class="loweralpha simple">
<li><p>Push the <span class="menuselection">DOWNLOAD</span> button and keep it pressed.</p></li>
<li><p>Re-power on the device or press the <span class="menuselection">CHIP_EN</span> button.</p></li>
<li><p>Release the <span class="menuselection">DOWNLOAD</span> button.</p></li>
</ol>
<p>Now, the device goes into download mode and is ready to receive data.</p>
</li>
<li><p>Open Image Tool, click <span class="menuselection">File &gt; Open</span> and select the proper device profile.</p>
<ul class="simple">
<li><p>For RTL8730ELH-VA7, select <code class="file docutils literal notranslate"><span class="pre">AmebaSmart_Linux_NAND_128MB.rdev</span></code></p></li>
<li><p>For RTL8730ELH-VA8, select <code class="file docutils literal notranslate"><span class="pre">AmebaSmart_Linux_NAND_256MB.rdev</span></code></p></li>
</ul>
</li>
<li><p>Select the corresponding serial port, and the baud rate will be ignored for USB download interface.</p></li>
<li><p>Click the <span class="menuselection">Browse</span> button to select the images to be programmed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Flash layout is allowed to be changed via Image Tool if indeed necessary.
However, to formally change the Flash layout, it is suggested to use <code class="xref py py-mod docutils literal notranslate"><span class="pre">Device</span> <span class="pre">Profile</span> <span class="pre">Editor</span></code> other than <code class="xref py py-mod docutils literal notranslate"><span class="pre">Image</span> <span class="pre">Tool</span></code> and the Flash layout in SDK shall be changed accordingly.
Refer to Section <a class="reference internal" href="#image-tool-modifying-device-profile"><span class="std std-ref">Modifying Device Profile</span></a> for details.</p>
</div>
</li>
<li><p>Click the <span class="menuselection">DOWNLOAD</span> button to start. The progress bar will show the download progress of each image and the log widget will show the operation status.</p>
<figure class="align-center" id="id12">
<a class="reference internal image-reference" href="../../_images/imgtool_image_download_operation_smart_linux.png"><img alt="../../_images/imgtool_image_download_operation_smart_linux.png" src="../../_images/imgtool_image_download_operation_smart_linux.png" style="width: 851.4px; height: 713.7px;" /></a>
<figcaption>
<p><span class="caption-text">Image download operation</span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
</section>
</section>
<section id="flash-erase">
<h2>Flash Erase<a class="headerlink" href="#flash-erase" title="Link to this heading"></a></h2>
<p>Steps to erase Flash are illustrated below:</p>
<ol class="arabic">
<li><p>Enter into download mode as introduced above.</p></li>
<li><p>Open Image Tool, click <span class="menuselection">File &gt; Open</span> and select the proper device profile.</p></li>
<li><p>Select the corresponding serial port and baud rate.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The baud rate will be ignored for USB download interface.</p>
</div>
</li>
<li><p>Input erase start address.</p>
<ul class="simple">
<li><p>For NOR Flash, the value shall be 4KB aligned.</p></li>
<li><p>For NAND Flash, the value shall be aligned to block size.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Refer to the datasheet of the corresponding NAND Flash for block size, normally 128KB.</p>
</div>
</li>
<li><p>Input erase size.</p>
<ul class="simple">
<li><p>For NOR Flash, the value shall be cast to a multiple of 4KB.</p></li>
<li><p>For NAND Flash, the value shall be cast to a multiple of block size.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Refer to the datasheet of the corresponding NAND Flash for block size, normally 128KB.</p>
</div>
</li>
</ol>
<ol class="arabic" id="image-tool-flash-erase-step-6" start="6">
<li><p>Click the <span class="menuselection">Erase</span> button, and erase operation begins.</p>
<p>You would get the operation result from the log window.</p>
<figure class="align-center" id="id13">
<a class="reference internal image-reference" href="../../_images/imgtool_nor_flash_erase_operation.png"><img alt="../../_images/imgtool_nor_flash_erase_operation.png" src="../../_images/imgtool_nor_flash_erase_operation.png" style="width: 849.6px; height: 212.4px;" /></a>
<figcaption>
<p><span class="caption-text">NOR Flash erase operation</span><a class="headerlink" href="#id13" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>No need to erase Flash manually before image download since Flash will be automatically erased during image download process.</p></li>
<li><p>If Flash block protection is detected at <a class="reference internal" href="#image-tool-flash-erase-step-6"><span class="std std-ref">Step 6</span></a>, refer to Section <a class="reference internal" href="#image-tool-flash-block-protection-process"><span class="std std-ref">Flash Block Protection Process</span></a> for details.</p></li>
</ul>
</div>
</li>
</ol>
</section>
<section id="flash-register-access">
<h2>Flash Register Access<a class="headerlink" href="#flash-register-access" title="Link to this heading"></a></h2>
<p>This function is for internal usage only, used to read/write Flash status/feature registers.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Any Flash register operations, especially write operations, shall refer to the datasheet of the Flash; otherwise, it may cause irreversible damage to the Flash.</p>
</div>
<p>Common pre-steps to access Flash register are illustrated below:</p>
<ol class="arabic simple">
<li><p>Make sure the Image Tool is closed.</p></li>
<li><p>Enter <strong>expert mode</strong> by editing <code class="file docutils literal notranslate"><span class="pre">&lt;ImageTool&gt;/Setting.json</span></code>, and set <cite>ExpertMode</cite> value to none-zero integer (such as 1).</p></li>
<li><p>Enter into download mode as introduced above.</p></li>
<li><p>Open Image Tool, click <span class="menuselection">File &gt; Open</span> and select the proper device profile.</p></li>
<li><p>Select the corresponding serial port and baud rate.</p></li>
</ol>
<section id="nor-flash-register-access">
<h3>NOR Flash Register Access<a class="headerlink" href="#nor-flash-register-access" title="Link to this heading"></a></h3>
<p>Besides the common pre-steps, click <span class="menuselection">Advanced</span> and select <span class="menuselection">NOR Flash Register Access</span> item to lunch the NOR Flash Register Access dialog for further operations:</p>
<figure class="align-center" id="id15">
<a class="reference internal image-reference" href="../../_images/imgtool_nor_flash_register_access.png"><img alt="../../_images/imgtool_nor_flash_register_access.png" src="../../_images/imgtool_nor_flash_register_access.png" style="width: 507.6px; height: 309.6px;" /></a>
<figcaption>
<p><span class="caption-text">NOR Flash Register Access dialog</span><a class="headerlink" href="#id15" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="read-nor-flash-register">
<span id="id2"></span><h4>Read NOR Flash Register<a class="headerlink" href="#read-nor-flash-register" title="Link to this heading"></a></h4>
<p>After the common pre-steps, next steps to read NOR Flash register:</p>
<ol class="arabic">
<li><p>Select the read command to read specific register.</p></li>
<li><p>Click the <span class="menuselection">Read</span> button, the register value will show up in the Register Value text box.</p>
<figure class="align-center" id="id16">
<a class="reference internal image-reference" href="../../_images/imgtool_read_nor_flash_register_operation.png"><img alt="../../_images/imgtool_read_nor_flash_register_operation.png" src="../../_images/imgtool_read_nor_flash_register_operation.png" style="width: 507.6px; height: 309.6px;" /></a>
<figcaption>
<p><span class="caption-text">Read NOR Flash register operation</span><a class="headerlink" href="#id16" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
</section>
<section id="write-nor-flash-register">
<h4>Write NOR Flash Register<a class="headerlink" href="#write-nor-flash-register" title="Link to this heading"></a></h4>
<p>After the common pre-steps, next steps to write NOR Flash register:</p>
<ol class="arabic">
<li><p>Select the write command to write specific register.</p></li>
<li><p>Input the register value.</p></li>
<li><p>Click the <span class="menuselection">Write</span> button.</p></li>
<li><p>Read back the register value for verification, refer to Section <a class="reference internal" href="#read-nor-flash-register"><span class="std std-ref">Read NOR Flash Register</span></a>.</p>
<figure class="align-center" id="id17">
<a class="reference internal image-reference" href="../../_images/imgtool_write_nor_flash_register_operation.png"><img alt="../../_images/imgtool_write_nor_flash_register_operation.png" src="../../_images/imgtool_write_nor_flash_register_operation.png" style="width: 507.6px; height: 309.6px;" /></a>
<figcaption>
<p><span class="caption-text">Write NOR Flash register operation</span><a class="headerlink" href="#id17" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
</section>
</section>
</section>
<section id="flash-block-protection-process">
<h2>Flash Block Protection Process<a class="headerlink" href="#flash-block-protection-process" title="Link to this heading"></a></h2>
<p>During image download or Flash Erase operation, if Flash block protection configuration is detected on the device,
Image Tool will pop up a dialog to guide user for the follow-up actions.</p>
<p>For NOR Flash, only Flash type and protection register value will be shown.</p>
<figure class="align-center" id="id28">
<a class="reference internal image-reference" href="../../_images/imgtool_nor.png"><img alt="../../_images/imgtool_nor.png" src="../../_images/imgtool_nor.png" style="width: 746.1px; height: 645.3000000000001px;" /></a>
<figcaption>
<p><span class="caption-text">Flash block protection detected dialog for NOR Flash</span><a class="headerlink" href="#id28" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The following follow-up actions are provided for users to choose:</p>
<ul class="simple">
<li><p>Try operation with block protected (may fail)</p></li>
<li><p>Remove the protection and restore the protection after operation</p></li>
<li><p>Abort the operation</p></li>
</ul>
<p>Additionally, user can check the <span class="menuselection">Remember the choice of follow-up action</span> check box to remember the choice for further operations, and uncheck <span class="menuselection">Option &gt; Remember Flash Protection Process</span> to forget the remembered choice.</p>
</section>
<section id="modifying-device-profile">
<h2>Modifying Device Profile<a class="headerlink" href="#modifying-device-profile" title="Link to this heading"></a></h2>
<p>Steps to modify an existing device profile are listed below:</p>
<ol class="arabic">
<li><p>Launch Device Profile Editor.</p></li>
<li><p>Click <span class="guilabel">Open</span> button to load an existing device profile.</p></li>
<li><p>Change the configuration of <code class="docutils literal notranslate"><span class="pre">Flash</span> <span class="pre">Layout</span></code> as required.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Image</span> <span class="pre">Name</span></code>: the image name built by SDK</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Start</span> <span class="pre">Address</span></code>: start address in hex format. For NAND Flash, the value shall be aligned to block size.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">End</span> <span class="pre">Address</span></code>: end address in hex format. For NAND Flash, the value shall be aligned to block size and the partition size shall be a multiple of block size with proper percent of spare blocks (at least one) for bad block management.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Full</span> <span class="pre">Erase</span></code>: flag indicating ImageTool to erase the entire partition or not before image download</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Checked</strong>: full erase, normally for file system partitions; for NAND Flash, all the partitions will be checked as default and not allowed to uncheck.</p></li>
<li><p><strong>Unchecked</strong>: not full erase, only the actual size of the image file will be erased, only for NOR Flash non-file-system partitions.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mandatory</span></code>: flag indicating ImageTool to enable the partition to download as default.</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Checked</strong>: mandatory partition, enabled as default.</p></li>
<li><p><strong>Unchecked</strong>: optional partition, disabled as default.</p></li>
</ul>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">Description</span></code>: the description text to describe the image, this information will be used as mouse hover tips for images.</p></li>
</ul>
</li>
<li><p>Click <span class="guilabel">Save</span> button to overwrite the existing device profile or click <span class="guilabel">Save As</span> button to save the modified device profile to a new file.</p>
<figure class="align-center" id="id37">
<a class="reference internal image-reference" href="../../_images/imgtool_edit_an_existing_device_profile.png"><img alt="../../_images/imgtool_edit_an_existing_device_profile.png" src="../../_images/imgtool_edit_an_existing_device_profile.png" style="width: 852.8000000000001px; height: 570.4px;" /></a>
<figcaption>
<p><span class="caption-text">Editting an existing device profile</span><a class="headerlink" href="#id37" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="0_tools_index.html" class="btn btn-neutral float-left" title="Tools" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="1_trace_tool_toprst.html" class="btn btn-neutral float-right" title="Trace Tool" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Realsil.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>

      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 



</body>
</html>